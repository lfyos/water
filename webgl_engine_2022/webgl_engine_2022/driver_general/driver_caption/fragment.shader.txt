uniform sampler2D texture_sampler;
uniform vec4 texture_par,move_par,color_par;

in vec4 frag_texture;
layout (location = 0) out vec4 frag_data;

void main(void)
{
	float text_width =texture_par.x,draw_width	 =texture_par.y,canvas_width =texture_par.z;
	float time_length=move_par.x,	texture_start=move_par.y,	texture_speed=move_par.z;
	float texture_x=frag_texture.x,	texture_y=frag_texture.y;
	
	if(text_width>=canvas_width)
		texture_x+=time_length*texture_speed-texture_start;
	texture_x*=canvas_width/draw_width;
		
	if((texture_x<0.0)||(texture_x>1.0))
		discard;
	else if(length(texture(texture_sampler,vec2(texture_x,texture_y)).rgb)<0.5)
		discard;
	else
		frag_data=color_par;
}
