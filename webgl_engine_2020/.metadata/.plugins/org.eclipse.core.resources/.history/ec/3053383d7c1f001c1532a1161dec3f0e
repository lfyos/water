package kernel_part;

import java.io.File;

import kernel_engine.scene_parameter;
import kernel_engine.system_parameter;
import kernel_file_manager.file_reader;
import kernel_file_manager.file_directory;

public class part_container_for_delete_part_file extends part_container
{
	public part_container_for_delete_part_file()
	{
		super();
	}
	
	public void deo_delete(system_parameter system_par,scene_parameter scene_par)
	{
		File f;
		for(part_link_list pll=get_part_list();pll!=null;pll=pll.next) {
			
			String clear_file_name_array[]=new String[]
			{
				pll.p.mesh_file_name,
				pll.p.material_file_name,
				pll.p.description_file_name,
				pll.p.audio_file_name,
				pll.p.mesh_file_name+".face",
				pll.p.mesh_file_name+".face.gzip",
				pll.p.mesh_file_name+".edge",
				pll.p.mesh_file_name+".edge.gzip"
			};
			for(int i=0,ni=clear_file_name_array.length;i<ni;i++) {
				if(pll.p.part_par.clear_model_file_flag[i])
					if(clear_file_name_array[i]!=null){
						String file_name=pll.p.directory_name+file_reader.separator(clear_file_name_array[i]);
						if((f=new File(file_name)).exists())
							f.delete();
					}
			}
			
			if((pll.p.part_par.clear_buffer_head_file_flag)&&(pll.p.part_par.combine_to_part_package_flag)){
				String part_temporary_file_directory=file_directory.part_file_directory(pll.p,system_par,scene_par);
				String file_name=part_temporary_file_directory+"mesh.head.gzip_text";
				if((f=new File(file_name)).exists())
					f.delete();
			}
		}
	}
}
