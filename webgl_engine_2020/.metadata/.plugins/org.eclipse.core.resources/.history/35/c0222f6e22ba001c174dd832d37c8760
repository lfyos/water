layout (location = 0) out vec4 frag_data;
in vec4 frag_place;
uniform mat4 par;

void main(void)
{
	float frag_distance,alf_value;
	
	if((frag_distance=dot(target_info.center_plane,frag_place))>=0.0){
		alf_value=frag_distance/(target_info.distance-target_info.near_value);
		alf_value=pow(alf_value,par[1].x);
	}else{
		alf_value=frag_distance/(target_info.distance-target_info.far_value);
		alf_value=pow(alf_value,par[1].y);
	}
	frag_data=vec4(par[0].rgb,alf_value);
	gl_FragDepth=0.999;	
}